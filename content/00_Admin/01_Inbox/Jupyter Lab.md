---
publish: true
title:
---
对于科研新手，尤其是做**数据科学（Data Science）**和**脑机接口（BCI）**方向的学生来说，**Jupyter Lab** 是这一行绝对的“标配”工具。

通俗地说，如果 **VS Code** 是用来**写软件**的“车间”，那么 **Jupyter Lab** 就是用来**做实验**的“草稿本”。

---

### 1. 什么是 Jupyter Lab？

全称是 **Jupyter Laboratory**。它是一个**运行在浏览器里**的交互式编程环境。

它的核心文件格式是 **`.ipynb` (IPython Notebook)**，这种文件有一个神奇的特性：
**它可以把“代码”、“运行结果（图表）”和“笔记文字”混合排版在同一个文档里。**

#### 为什么要用它？（针对你的 NSD 项目）

想象一下你在处理 fMRI 数据时的场景：
1.  **加载数据慢：** 那个 `.hdf5` 文件很大，加载一次可能要几秒钟。如果你用 `.py` 脚本（像在 VS Code 里），每次修改一行绘图代码，你都要**重新运行整个脚本**，重新加载一次数据，非常浪费时间。
2.  **需要看图：** 你需要画大脑切片、画 ROI 掩膜。在脚本里，图片通常会弹出一个临时窗口，关掉就没了。而在 Jupyter 里，**图片直接显示在代码下方**，并且永久保存在文档里。

**Jupyter 的“分块执行”特性解决了这个问题：**
你可以把代码分成一个个 **Cell（单元格）**。
*   **Cell 1:** 加载数据（只运行一次，数据就一直停留在内存里了）。
*   **Cell 2:** 画图（可以反复修改、反复运行几百次，不需要重新加载数据）。

---

### 2. Jupyter Lab vs VS Code：怎么选？

| 特性 | Jupyter Lab | VS Code |
| :--- | :--- | :--- |
| **核心逻辑** | **探索式**：写几行，跑一下，看一眼结果，再写几行。 | **工程式**：写完一整套逻辑，封装成函数/类，一次性运行。 |
| **优势** | **可视化极强**，适合数据分析、画图、写实验报告。 | **代码管理极强**，适合写复杂的深度学习模型、Debug。 |
| **你的用法** | **现阶段 (研一)：** 用 Jupyter 探索数据结构、验证思路、画论文图。 | **进阶阶段：** 当你确定了模型结构，需要跑几天几夜训练时，把代码整理进 VS Code 跑。 |

---

### 3. 手把手教你使用 (5分钟上手)

由于你已经装好了 `jupyterlab` 库，直接启动即可。

#### 第一步：启动
1.  打开你的终端（Miniforge Prompt 或 VS Code 终端）。
2.  激活环境：`conda activate nsd_env`
3.  输入命令并回车：
    ```bash
    jupyter lab
    ```
4.  此时，你的默认浏览器（Chrome/Edge）会自动弹出一个网页，地址通常是 `localhost:8888`。这就是 Jupyter Lab 的界面。

#### 第二步：创建笔记本
1.  在网页左侧的**文件浏览器**中，找到你存放数据的文件夹（比如 `NSD_Mini`）。
2.  点击右侧主界面的蓝色按钮 **"Notebook (Python 3)"**。
3.  这就新建了一个 `Untitled.ipynb` 文件。你可以右键点击左侧的文件名重命名，比如 `01_Data_Exploration.ipynb`。

#### 第三步：编写与运行 (核心操作)
你会看到一个长条形的输入框，这叫 **Cell**。

1.  **输入代码：**
    在框里输入：
    ```python
    print("Hello NSD!")
    ```
2.  **运行代码 (快捷键 ⭐)：**
    按下 **`Shift + Enter`**。
    *   你会发现代码运行了，结果直接显示在下面。
    *   同时自动为你创建了一个新的空 Cell。

3.  **混合笔记：**
    *   选中一个空 Cell。
    *   在顶部工具栏的下拉菜单里，把 **"Code"** 改成 **"Markdown"**。
    *   输入笔记（比如：`## 这是我的第一次实验`），按 `Shift + Enter`。它会渲染成漂亮的标题。

---

### 4. 实战：把之前的检查代码搬进去

现在的任务：把我们在 VS Code 里写的 `check_data.py` 的内容，**分块**复制到 Jupyter 里体验一下。

*   **Cell 1 (导入库):**
    ```python
    import h5py
    import numpy as np
    import matplotlib.pyplot as plt
    ```
    *(按 Shift+Enter 运行)*

*   **Cell 2 (加载数据 - 耗时操作):**
    ```python
    f = h5py.File('betas_session01.hdf5', 'r')
    betas = f['betas'][:]
    betas = np.transpose(betas, (3, 2, 1, 0)) # 转置
    betas = betas.astype(float) / 300.0       # 除以300
    print("数据加载完毕！")
    ```
    *(按 Shift+Enter 运行。注意：这一步之后，betas 变量就一直活着了，不用再跑第二次)*

*   **Cell 3 (画图 - 随意修改):**
    ```python
    # 你可以随意改这个切片位置，比如把 40 改成 50，再按 Shift+Enter，图立马就变
    plt.imshow(betas[:, :, 40, 0].T, cmap='RdBu_r')
    plt.show()
    ```

**去试试吧！** 这种“即时反馈”的感觉，会让你爱上科研的。